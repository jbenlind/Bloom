Geocode.setApiKey(googleApiKey);
  Geocode.setLanguage("en");
  Geocode.setLocationType("ROOFTOP");
  const getLat = (address, city, state, zipcode) => {
    return Geocode.fromAddress(`${address} ${city}, ${state} ${zipcode}`).then(
      (response) => {
        const { lat } = response.results[0].geometry.location;
        return lat;
      },
      (error) => {
        console.error(error);
      }
    );
  };
  const getLng = (address, city, state, zipcode) => {
    return Geocode.fromAddress(`${address} ${city}, ${state} ${zipcode}`).then(
      (response) => {
        const { lng } = response.results[0].geometry.location;
        return lng;
      },
      (error) => {
        console.error(error);
      }
    );
  };
  const handleSubmit = async (event) => {
    event.preventDefault();
    const lat = await getLat(address, city, state, zipcode);
    const lng = await getLng(address, city, state, zipcode);
    const newSpot = {
      image_url: imageUrl,
      title,
      address,
      city,
      state,
      zipcode,
      description,
      capacity,
      latitude: lat,
      longitude: lng,
    };
    let addedSpot = await dispatch(createSpot(newSpot));
    history.push(`/spot/${addedSpot.spot.id}`);
  };
